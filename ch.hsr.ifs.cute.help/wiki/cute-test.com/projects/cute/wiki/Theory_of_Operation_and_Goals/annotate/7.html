<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">

<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<title>CUTE - C++ Unit Testing Easier</title>
<meta name="description" content="Redmine" />
<meta name="keywords" content="issue,bug,tracker" />
<link rel='shortcut icon' href='http://cute-test.com/favicon.ico?1293099743' />
<link href="../../../../../themes/cute/stylesheets/applicationade1.css?1295341309" media="all" rel="stylesheet" type="text/css" />

<script src="http://cute-test.com/javascripts/prototype.js?1251746896" type="text/javascript"></script>
<script src="http://cute-test.com/javascripts/effects.js?1254993814" type="text/javascript"></script>
<script src="http://cute-test.com/javascripts/dragdrop.js?1254993814" type="text/javascript"></script>
<script src="http://cute-test.com/javascripts/controls.js?1254993814" type="text/javascript"></script>
<script src="http://cute-test.com/javascripts/application.js?1293099743" type="text/javascript"></script>
<link href="../../../../../stylesheets/jstoolbara45c.css?1293099743" media="screen" rel="stylesheet" type="text/css" />
<!--[if IE]>
    <style type="text/css">
      * html body{ width: expression( document.documentElement.clientWidth < 900 ? '900px' : '100%' ); }
      body {behavior: url(/stylesheets/csshover.htc?1293099743);}
    </style>
<![endif]-->

<!-- page specific tags -->

<link href="../../../../../stylesheets/scma45c.css?1293099743" media="screen" rel="stylesheet" type="text/css" />
</head>
<body class="theme-Cute controller-wiki action-annotate">
<div id="wrapper">
<div id="wrapper2">
<div id="top-menu">
    <div id="account">
        <ul><li><a href="http://cute-test.com/login" class="login">Sign in</a></li>
<li><a href="http://cute-test.com/account/register" class="register">Register</a></li></ul>    </div>
    
    <ul><li><a href="http://cute-test.com/" class="home">Home</a></li>
<li><a href="http://cute-test.com/projects" class="projects">Projects</a></li>
<li><a href="http://www.redmine.org/guide" class="help">Help</a></li></ul></div>
      
<div id="header">
    <div id="quick-search">
        <form action="http://cute-test.com/search/index/cute" method="get">
        <input name="wiki_pages" type="hidden" value="1" />
        <a href="http://cute-test.com/search/index/cute" accesskey="4">Search</a>:
        <input accesskey="f" class="small" id="q" name="q" size="20" type="text" />
        </form>
        
    </div>
    
    <h1>CUTE</h1>
    
    
    <div id="main-menu">
        <ul><li><a href="http://cute-test.com/projects/cute" class="overview">Overview</a></li>
<li><a href="http://cute-test.com/projects/cute/activity" class="activity">Activity</a></li>
<li><a href="http://cute-test.com/projects/cute/news" class="news">News</a></li>
<li><a href="http://cute-test.com/projects/cute/wiki" class="wiki selected">Wiki</a></li>
<li><a href="http://cute-test.com/projects/cute/files" class="files">Files</a></li></ul>
    </div>
    
</div>

<div class="nosidebar" id="main">
    <div id="sidebar">        
        
        
    </div>
    
    <div id="content">
				
        <div class="contextual">
<a href="http://cute-test.com/login?back_url=http%3A%2F%2Fcute-test.com%2Fprojects%2Fcute%2Fwiki%2FTheory_of_Operation_and_Goals%2Fedit" class="icon icon-edit">Edit</a>
<a href="../history.html" class="icon icon-history">History</a>
</div>

<h2>Theory of Operation and Goals</h2>

<p>
Version <a href="../../Theory_of_Operation_and_Goals17dd.html?version=7">7</a>
<em>(Emanuel Graf, 17 Jan 2011 11:10)</em>
</p>



<table class="filecontent annotate">
<tbody>

<tr class="bloc-0">
    <th class="line-num">1</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goalse42d.html?version=1">1</a></td>
    <td class="author"></td>
    <td class="line-code"><pre>h1. Theory of Operation and Goals of CUTE</pre></td>
</tr>

<tr class="bloc-0">
    <th class="line-num">2</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goalse42d.html?version=1">1</a></td>
    <td class="author"></td>
    <td class="line-code"><pre></pre></td>
</tr>

<tr class="bloc-1">
    <th class="line-num">3</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals67d9.html?version=2">2</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>CUTE leverages modern C++ libraries and features to make writing C++ unit tests easier. For example, one disadvantage of &quot;CppUnit&quot;:http://sourceforge.net/apps/mediawiki/cppunit/index.php?title=Main_Page is that you have to write a subclass in order to have your own test case. This is a lot of programmer overhead, especially when you want to start small.</pre></td>
</tr>

<tr class="bloc-0">
    <th class="line-num">4</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goalse42d.html?version=1">1</a></td>
    <td class="author"></td>
    <td class="line-code"><pre></pre></td>
</tr>

<tr class="bloc-1">
    <th class="line-num">5</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals67d9.html?version=2">2</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>CUTE stands for C++ Unit Testing Easier. This article was first published by Peter Sommerlad in &quot;ACCU Overload Journal #75&quot;:http://accu.org/index.php/journals/1349. It is maintained here in the wiki with updates to match the current version of CUTE.</pre></td>
</tr>

<tr class="bloc-0">
    <th class="line-num">6</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goalse42d.html?version=1">1</a></td>
    <td class="author"></td>
    <td class="line-code"><pre></pre></td>
</tr>

<tr class="bloc-0">
    <th class="line-num">7</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goalse42d.html?version=1">1</a></td>
    <td class="author"></td>
    <td class="line-code"><pre>I was inspired by Kevlin Henney's Java testing framework called JUTLAND (Java Unit Testing: Light, Adaptable 'n' Discreet), and the corresponding presentation he gave at JAOO 2005. In addition, I wondered if I could come up with a design that is similarly orthogonal, easily extendable and also much simpler to use than current C++ unit testing approaches.</pre></td>
</tr>

<tr class="bloc-0">
    <th class="line-num">8</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goalse42d.html?version=1">1</a></td>
    <td class="author"></td>
    <td class="line-code"><pre></pre></td>
</tr>

<tr class="bloc-0">
    <th class="line-num">9</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goalse42d.html?version=1">1</a></td>
    <td class="author"></td>
    <td class="line-code"><pre>Here you will learn how to use CUTE in your projects and also some of the more modern C++ coding techniques employed for its implementation. I also ask you to give feedback to help me further simplify and improve CUTE.</pre></td>
</tr>

<tr class="bloc-2">
    <th class="line-num">10</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals7fb8.html?version=3">3</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre></pre></td>
</tr>

<tr class="bloc-2">
    <th class="line-num">11</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals7fb8.html?version=3">3</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>h2. My Problems with CppUnit</pre></td>
</tr>

<tr class="bloc-2">
    <th class="line-num">12</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals7fb8.html?version=3">3</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre></pre></td>
</tr>

<tr class="bloc-2">
    <th class="line-num">13</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals7fb8.html?version=3">3</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>Inheritance is a very strong coupling between classes. Requiring a test case class to inherit from a CppUnit framework class couples both closely together. The &quot;CppUnit Cookbook&quot;:http://cppunit.sourceforge.net/doc/lastest/cppunit_cookbook.html tutorial lists at least 6 classes you must deal with in order to get things up and running. You even have to decide if you want to inherit from TestCase or TestFixture for even the simplest test case. I do not want to go into more details, but this is how I want to write tests:</pre></td>
</tr>

<tr class="bloc-2">
    <th class="line-num">14</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals7fb8.html?version=3">3</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre></pre></td>
</tr>

<tr class="bloc-2">
    <th class="line-num">15</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals7fb8.html?version=3">3</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>&lt;pre&gt;&lt;code class=&quot;cpp&quot;&gt;</pre></td>
</tr>

<tr class="bloc-2">
    <th class="line-num">16</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals7fb8.html?version=3">3</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>#include &quot;cute.h&quot;</pre></td>
</tr>

<tr class="bloc-2">
    <th class="line-num">17</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals7fb8.html?version=3">3</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>int lifeTheUniverseAndEverything = 42;</pre></td>
</tr>

<tr class="bloc-2">
    <th class="line-num">18</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals7fb8.html?version=3">3</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre></pre></td>
</tr>

<tr class="bloc-2">
    <th class="line-num">19</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals7fb8.html?version=3">3</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>void mysimpletest(){</pre></td>
</tr>

<tr class="bloc-2">
    <th class="line-num">20</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals7fb8.html?version=3">3</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>    ASSERT(lifeTheUniverseAndEverything == 6*7);</pre></td>
</tr>

<tr class="bloc-2">
    <th class="line-num">21</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals7fb8.html?version=3">3</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>}</pre></td>
</tr>

<tr class="bloc-2">
    <th class="line-num">22</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals7fb8.html?version=3">3</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>&lt;/code&gt;&lt;/pre&gt;</pre></td>
</tr>

<tr class="bloc-2">
    <th class="line-num">23</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals7fb8.html?version=3">3</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>That's it. A simple test is a simple void function. Done. Well, almost done.</pre></td>
</tr>

<tr class="bloc-2">
    <th class="line-num">24</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals7fb8.html?version=3">3</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre></pre></td>
</tr>

<tr class="bloc-2">
    <th class="line-num">25</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals7fb8.html?version=3">3</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>In addition, CppUnit originated in the days of non-standard C++ compilers, when the more modern features of the language were just not broadly available. From a modern perspective, this limits its design.</pre></td>
</tr>

<tr class="bloc-2">
    <th class="line-num">26</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals7fb8.html?version=3">3</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre></pre></td>
</tr>

<tr class="bloc-2">
    <th class="line-num">27</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals7fb8.html?version=3">3</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>Today, all relevant compilers (with the exception of the still in use MSVC6) are able to compile most of standard C++ and the proposed std::tr1 libraries from Boost.</pre></td>
</tr>

<tr class="bloc-3">
    <th class="line-num">28</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goalsad21.html?version=4">4</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre></pre></td>
</tr>

<tr class="bloc-3">
    <th class="line-num">29</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goalsad21.html?version=4">4</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>h2. Running a Single Test</pre></td>
</tr>

<tr class="bloc-3">
    <th class="line-num">30</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goalsad21.html?version=4">4</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre></pre></td>
</tr>

<tr class="bloc-3">
    <th class="line-num">31</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goalsad21.html?version=4">4</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>Since we lack some of the reflection mechanisms available in Java, testing with CUTE requires its own main function. For simple cases this is straightforward. As with CppUnit you instantiate a runner object and pass it your test. The simplest possible way to produce some output is:</pre></td>
</tr>

<tr class="bloc-3">
    <th class="line-num">32</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goalsad21.html?version=4">4</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre></pre></td>
</tr>

<tr class="bloc-3">
    <th class="line-num">33</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goalsad21.html?version=4">4</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>&lt;pre&gt;&lt;code class=&quot;cpp&quot;&gt;</pre></td>
</tr>

<tr class="bloc-3">
    <th class="line-num">34</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goalsad21.html?version=4">4</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>#include &lt;iostream&gt;</pre></td>
</tr>

<tr class="bloc-3">
    <th class="line-num">35</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goalsad21.html?version=4">4</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>#include &quot;cute_runner.h&quot;</pre></td>
</tr>

<tr class="bloc-3">
    <th class="line-num">36</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goalsad21.html?version=4">4</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>int main(){</pre></td>
</tr>

<tr class="bloc-3">
    <th class="line-num">37</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goalsad21.html?version=4">4</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>    using namespace std;</pre></td>
</tr>

<tr class="bloc-3">
    <th class="line-num">38</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goalsad21.html?version=4">4</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre></pre></td>
</tr>

<tr class="bloc-3">
    <th class="line-num">39</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goalsad21.html?version=4">4</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>    if (cute::runner&lt;&gt;()(mysimpletest)){</pre></td>
</tr>

<tr class="bloc-3">
    <th class="line-num">40</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goalsad21.html?version=4">4</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>        cout &lt;&lt; &quot;OK&quot; &lt;&lt; endl;</pre></td>
</tr>

<tr class="bloc-3">
    <th class="line-num">41</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goalsad21.html?version=4">4</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>    } else {</pre></td>
</tr>

<tr class="bloc-3">
    <th class="line-num">42</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goalsad21.html?version=4">4</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>        cout &lt;&lt; &quot;failed&quot; &lt;&lt; endl;</pre></td>
</tr>

<tr class="bloc-3">
    <th class="line-num">43</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goalsad21.html?version=4">4</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>    }   </pre></td>
</tr>

<tr class="bloc-3">
    <th class="line-num">44</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goalsad21.html?version=4">4</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>}</pre></td>
</tr>

<tr class="bloc-3">
    <th class="line-num">45</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goalsad21.html?version=4">4</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>&lt;/code&gt;&lt;/pre&gt;</pre></td>
</tr>

<tr class="bloc-3">
    <th class="line-num">46</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goalsad21.html?version=4">4</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre></pre></td>
</tr>

<tr class="bloc-3">
    <th class="line-num">47</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goalsad21.html?version=4">4</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>This may not yet be very impressive, but it is simple. Reporting test outcome is important, so CUTE provides a means to configure the runner with a listener. You may have wondered why cute::runner has template brackets. This is where you specify the listener class:</pre></td>
</tr>

<tr class="bloc-3">
    <th class="line-num">48</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goalsad21.html?version=4">4</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre></pre></td>
</tr>

<tr class="bloc-3">
    <th class="line-num">49</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goalsad21.html?version=4">4</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>&lt;pre&gt;&lt;code class=&quot;cpp&quot;&gt;</pre></td>
</tr>

<tr class="bloc-3">
    <th class="line-num">50</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goalsad21.html?version=4">4</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>int main(){</pre></td>
</tr>

<tr class="bloc-3">
    <th class="line-num">51</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goalsad21.html?version=4">4</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>    using namespace std;</pre></td>
</tr>

<tr class="bloc-3">
    <th class="line-num">52</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goalsad21.html?version=4">4</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre></pre></td>
</tr>

<tr class="bloc-3">
    <th class="line-num">53</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goalsad21.html?version=4">4</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>    cute::runner&lt;cute::ostream_listener&gt;()(mysimpletest);</pre></td>
</tr>

<tr class="bloc-3">
    <th class="line-num">54</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goalsad21.html?version=4">4</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>}</pre></td>
</tr>

<tr class="bloc-3">
    <th class="line-num">55</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goalsad21.html?version=4">4</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>&lt;/code&gt;&lt;/pre&gt;</pre></td>
</tr>

<tr class="bloc-3">
    <th class="line-num">56</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goalsad21.html?version=4">4</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre></pre></td>
</tr>

<tr class="bloc-3">
    <th class="line-num">57</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goalsad21.html?version=4">4</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>This test succeeds and outputs,</pre></td>
</tr>

<tr class="bloc-3">
    <th class="line-num">58</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goalsad21.html?version=4">4</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre></pre></td>
</tr>

<tr class="bloc-3">
    <th class="line-num">59</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goalsad21.html?version=4">4</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>&lt;pre&gt;&lt;code&gt;</pre></td>
</tr>

<tr class="bloc-3">
    <th class="line-num">60</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goalsad21.html?version=4">4</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>&quot;void () () OK&quot;</pre></td>
</tr>

<tr class="bloc-3">
    <th class="line-num">61</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goalsad21.html?version=4">4</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>&lt;/code&gt;&lt;/pre&gt;</pre></td>
</tr>

<tr class="bloc-3">
    <th class="line-num">62</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goalsad21.html?version=4">4</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre></pre></td>
</tr>

<tr class="bloc-3">
    <th class="line-num">63</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goalsad21.html?version=4">4</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>From the above test result, we know only that a void function without any arguments ran successfully. This shows the C++ introspection limitation, which only provides type information, not function names. But the preprocessor can help us. We make our test cuter by applying the macro CUTE():</pre></td>
</tr>

<tr class="bloc-3">
    <th class="line-num">64</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goalsad21.html?version=4">4</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre></pre></td>
</tr>

<tr class="bloc-3">
    <th class="line-num">65</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goalsad21.html?version=4">4</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>&lt;pre&gt;&lt;code class=&quot;cpp&quot;&gt;</pre></td>
</tr>

<tr class="bloc-3">
    <th class="line-num">66</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goalsad21.html?version=4">4</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>cute::runner&lt;cute::ostream_listener&gt;()(</pre></td>
</tr>

<tr class="bloc-3">
    <th class="line-num">67</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goalsad21.html?version=4">4</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>    CUTE(mysimpletest));</pre></td>
</tr>

<tr class="bloc-3">
    <th class="line-num">68</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goalsad21.html?version=4">4</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>&lt;/code&gt;&lt;/pre&gt;</pre></td>
</tr>

<tr class="bloc-3">
    <th class="line-num">69</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goalsad21.html?version=4">4</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre></pre></td>
</tr>

<tr class="bloc-3">
    <th class="line-num">70</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goalsad21.html?version=4">4</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>This test succeeds, it produces the terse output mysimpletest OK. However, if we make the test fail by setting the variable to lifeTheUniverseAndEverything to 41 instead of 42, we get,</pre></td>
</tr>

<tr class="bloc-3">
    <th class="line-num">71</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goalsad21.html?version=4">4</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre></pre></td>
</tr>

<tr class="bloc-3">
    <th class="line-num">72</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goalsad21.html?version=4">4</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>&lt;pre&gt;&lt;code&gt;</pre></td>
</tr>

<tr class="bloc-3">
    <th class="line-num">73</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goalsad21.html?version=4">4</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>../simpletest.cpp:6: testcase failed: lifeTheUniverseAndEverything == 6*7 in mysimpletest</pre></td>
</tr>

<tr class="bloc-3">
    <th class="line-num">74</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goalsad21.html?version=4">4</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>&lt;/code&gt;&lt;/pre&gt;</pre></td>
</tr>

<tr class="bloc-3">
    <th class="line-num">75</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goalsad21.html?version=4">4</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre></pre></td>
</tr>

<tr class="bloc-3">
    <th class="line-num">76</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goalsad21.html?version=4">4</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>This failure message contains everything we need to find the origin of the failure, plus some context help to hint at the problem. You probably already guessed that the preprocessor macro ASSERT() from cute.h contains the magic that collects this interesting information.</pre></td>
</tr>

<tr class="bloc-3">
    <th class="line-num">77</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goalsad21.html?version=4">4</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre></pre></td>
</tr>

<tr class="bloc-3">
    <th class="line-num">78</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goalsad21.html?version=4">4</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>For a better integration into Visual Studio and Eclipse IDEs, CDT CUTE now provides yet another listener, cute::ide_listener. This listener allows navigation from failure messages to their source, and even provides a red/green bar UI within Eclipse CDT.</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">79</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre></pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">80</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>h2. How Things Work</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">81</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre></pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">82</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>I tried to create a simple, orthogonal and thus easy to extend and adapt testing framework that stays easy to use. I avoided some complexity for users of CUTE by exploiting modern C++ library features in the Boost library that will be part of the future std::tr1 standard.</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">83</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre></pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">84</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>Note that all classes presented below are in namespace cute, which is omitted for the sake of brevity.</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">85</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre></pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">86</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>h2. Cute Test</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">87</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre></pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">88</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>The core class stores test functions using boost::function. When TR1 support is added to compilers, this will be renamed std::tr1::function. With boost::function, any parameterless function or functor can be a test. In addition, each cute::test has a name for easier identification. That name is given either during construction or derived from a functor's typeid. The GNU g++ compiler requires that you demangle the name given by the type_info object, while VC++ provides a human readable type_info::name() result directly.</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">89</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre></pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">90</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>&lt;pre&gt;&lt;code class=&quot;cpp&quot;&gt;</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">91</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>struct test{</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">92</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>    test(VoidFunctor const &amp;t, std::string name = </pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">93</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>             demangle(typeid(VoidFunctor).name()))</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">94</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>    :theTest(t),name_(name){}</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">95</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre></pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">96</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>    void operator()()const{ theTest(); }</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">97</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>    std::string name()const{ return name_;}</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">98</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre></pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">99</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>    static std::string demangle(char const *name);</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">100</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>private:</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">101</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>    boost::function&lt;void()&gt; theTest;</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">102</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>    std::string name_;</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">103</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>};</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">104</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>&lt;/code&gt;&lt;/pre&gt;</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">105</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre></pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">106</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>As you can see, there is no need to inherit from class test. The only thing I do not like about this is that the static function demangle must be implemented on a per compiler basis. I have not yet found a better place for it in the framework.</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">107</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre></pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">108</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>For simple functions, or when you want to name your tests differently from the functor's type, you can use the CUTE() macro:</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">109</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre></pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">110</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>&lt;pre&gt;&lt;code class=&quot;cpp&quot;&gt;</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">111</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>#define CUTE(name) cute::test((&amp;name),#name)</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">112</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>&lt;/code&gt;&lt;/pre&gt;</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">113</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre></pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">114</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>This was one of the problems with more modern C++ compilers (VS and g++ &gt; 4), because the early version of the macro didn't use the address-of operator for the function name. This resulted in the inability to automatically instantiate the cute::test template constructor. Having used C for more than 20 years, I thought that using a function name would give you a function pointer and that the &amp; would be superfluous, which is no longer the case in C++.</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">115</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre></pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">116</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>Using a template constructor allows you to use any kind of functor that can be stored in a boost::function&lt;void()&gt;, but this means that the functor can take no parameters. To construct with functions, functors or member functions with parameters, use boost::bind() as shown below.</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">117</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre></pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">118</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>h2. Sweet Suites</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">119</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre></pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">120</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>Running a single test with cute::runner is not very interestingâ€”you might as well just call that function directly and check the results. The power of unit testing is realized when you have a larger collection of test cases that run after every compile and on a build server after every check-in. Thus there is a need for running many tests at once.</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">121</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre></pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">122</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>In contrast to other unit testing frameworks (including JUnit) I refrained from applying the Composite design pattern [GoF] for implementing the test case container. I love Composite and it is handy in many situations for tree structures, but it comes at the price of strong coupling by inheritance and lower cohesion in the base class, because of the need to support the composite class' interface. The simplest solution I came up with is to simply represent the test suite as a std::vector&lt;cute::test&gt;. Instead of a hierarchy of suites, you just run a sequence of tests. When the tests run, the hierarchy play no role. You still can arrange your many tests into separate suites, but before you run them, you either concatenate the vectors or you run the suites individually in your main() function using the runner.</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">123</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre></pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">124</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>Tests can be added to the suite using vector::push_back(), but to make it really easy to fill your suite with tests, CUTE also provides an overloaded operator+= that will append a test object to a suite:</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">125</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre></pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">126</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>&lt;pre&gt;&lt;code class=&quot;cpp&quot;&gt;</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">127</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>typedef std::vector&lt;test&gt; suite;</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">128</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>suite &amp;operator+=(suite &amp;left, suite const &amp;right);</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">129</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>suite &amp;operator+=(suite &amp;left, test const &amp;right);</pre></td>
</tr>

<tr class="bloc-5">
    <th class="line-num">130</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals17dd.html?version=7">7</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>&lt;/code&gt;&lt;/pre&gt;</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">131</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre></pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">132</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>This idea is blatantly stolen from boost::assign, which is not used in CUTE because as far as I know, boost::assign will not appear in std::tr1.</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">133</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre></pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">134</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>So this is all it takes to build a test suite:</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">135</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre></pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">136</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>&lt;pre&gt;&lt;code class=&quot;cpp&quot;&gt;</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">137</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>suite s;</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">138</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>s += TestFunctorA();</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">139</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>s += CUTE(testFunctionB());</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">140</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>// and so on    ...</pre></td>
</tr>

<tr class="bloc-6">
    <th class="line-num">141</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals358e.html?version=6">6</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>&lt;/code&gt;&lt;/pre&gt;</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">142</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre></pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">143</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>If you really want to organize your test as a sequence of test suites, CUTE provides a suite_test functor that will take a test suite and run it through its call operator. However, if any test in a suite_test fails, the remaining tests will not be run.</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">144</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre></pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">145</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>CUTE's Eclipse plug-in eases the construction of test suites by providing automatic code generation and adjustment for registering test functions in suites. You can have stand-alone CUTE executables for a single suite, or test multiple suites, each in a separate library project.</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">146</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre></pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">147</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>h2. Assertions and Failures</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">148</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre></pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">149</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>A unit testing framework would not be complete without a way to actually check something in a convenient way. One principle of testing is to fail fast, so any failed test assertion will abort the current test and signal the failure to the top-level runner. You might have already guessed that this is done by throwing an exception. Later on, we will want to know where that test failed, so I introduced an exception class test_failure that takes the source file name and line number in the source file. Java does this automatically for exceptions, but as C++ programmers we must obtain and store this information ourselves. We rely on the preprocessor to actually know where we are in the code. Another std::string allows sending additional information from the test programmer to the debugger of a failing test.</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">150</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre></pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">151</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>This is how cute.h looks without the necessary #include guards and #include &lt;string&gt;:</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">152</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre></pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">153</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>&lt;pre&gt;&lt;code class=&quot;cpp&quot;&gt;</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">154</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>namespace cute{</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">155</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>struct test_failure {</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">156</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>        std::string reason;</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">157</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>        std::string filename;</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">158</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>        int lineno;</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">159</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>        test_failure(std::string const &amp;r,char const *f, int line)</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">160</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>        :reason(r),filename(f),lineno(line)</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">161</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>        {       }</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">162</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>        std::string what() const ;</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">163</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>};</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">164</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>}</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">165</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>&lt;/code&gt;&lt;pre&gt;</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">166</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre></pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">167</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>For actually writing test assertions, I provided macros that will throw if a test fails:</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">168</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre></pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">169</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>&lt;pre&gt;&lt;code class=&quot;cpp&quot;&gt;</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">170</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>#define ASSERTM(msg,cond) if (!(cond)) \</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">171</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>            throw cute::test_failure((msg),__FILE__,__LINE__)</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">172</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>#define ASSERT(cond) ASSERTM(#cond,cond)</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">173</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>#define FAIL() ASSERTM(&quot;fail()&quot;,false)</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">174</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>#define FAILM(msg) ASSERTM(msg,false)</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">175</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>&lt;/code&gt;&lt;/pre&gt;</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">176</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre></pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">177</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>This is all you need to get started. However, some convenience is popular in testing frameworks. Unfortunately, convenience often tends to be over-engineered and I am not yet sure if the convenience functionality I provided is yet simple enough. Therefore I ask for your feedback on how to make things simpler or confirmation that it is already simple enough.</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">178</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre></pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">179</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>h2. Testing for Equality</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">180</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre></pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">181</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>Testing two values for equality is probably the most popular test. Therefore, all testing frameworks provide a means to test for equality. JUnit, for example, provides a complete set of overloaded equality tests. C++ templates can do that as well with less code. For more complex data types, such as strings, it can be difficult to see the difference between two values, when they are simply printed in the error message.</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">182</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre></pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">183</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>&lt;pre&gt;&lt;code class=&quot;cpp&quot;&gt;</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">184</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>void anothertest(){</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">185</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>        ASSERT_EQUAL(42,lifeTheUniverseAndEverything);</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">186</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>}</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">187</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>&lt;/code&gt;&lt;/pre&gt;</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">188</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre></pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">189</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>One means to implement ASSERT_EQUAL would be to just #define it to map to ASSERT((expected)==(actual)). However, from my personal experience of C++ unit testing since 1998, this gives too little information when the comparison fails. This is especially true for strings or domain objects, where seeing the two unequal values is often essential for correcting the programming mistake. In my former life, we had custom error messages for a failed string compare that allowed us to spot the difference easily. Therefore, CUTE provides a template implementation of ASSERT_EQUAL This is of course called by a macro to enable file position reporting.</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">190</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre></pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">191</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>I speculated (perhaps wrongly) that it would be useful to specify your own mechanism to create the message if two values differ, which also is implemented as a to-be-overloaded template function.</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">192</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre></pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">193</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>&lt;pre&gt;&lt;code class=&quot;cpp&quot;&gt;</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">194</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>template &lt;typename EXPECTED, typename ACTUAL&gt;</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">195</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>std::string diff_values(EXPECTED const &amp;expected</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">196</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>                        ,ACTUAL const &amp; actual){</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">197</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>// construct a simple message...</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">198</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>        std::ostringstream os;</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">199</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>        os &lt;&lt; &quot;(&quot; &lt;&lt; expected&lt;&lt;&quot;,&quot;&lt;&lt;actual&lt;&lt;&quot;)&quot;;</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">200</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>        return os.str();</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">201</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>}</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">202</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>// special overloaded cases for strings</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">203</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>std::string diff_values(std::string const &amp;,std::string const &amp;);</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">204</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>std::string diff_values(char const * const &amp;exp,std::string const &amp;act);</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">205</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre></pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">206</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>template &lt;typename EXPECTED, typename ACTUAL&gt;</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">207</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>void assert_equal(EXPECTED const &amp;expected ,ACTUAL const &amp;actual</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">208</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>                  ,char const *msg,char const *file,int line) {</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">209</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>        if (expected == actual) return;</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">210</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>        throw test_failure(msg + diff_values(expected,actual),file,line);</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">211</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>}</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">212</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>#define ASSERT_EQUALM(msg,expected,actual) \</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">213</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>    cute::assert_equal((expected),(actual),msg,__FILE__,__LINE__)</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">214</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>#define ASSERT_EQUAL(expected,actual) \</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">215</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>    ASSERT_EQUALM(#expected &quot; expected but was &quot; #actual, expected,actual)</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">216</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>&lt;/code&gt;&lt;/pre&gt;</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">217</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre></pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">218</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>As of version 1.5 CUTE allows all kinds of type to be compared by ASSERT_EQUAL. While earlier versions allowed only types where operator&lt;&lt;(ostream &amp;,TYPE) was defined, some template meta-programming tricks now allow also other types, as long as operator==(expected,actual) is defined and delivers a bool compatible result. For integer types, meta-programming ensures that no signed-unsigned comparison warning is issued anymore (this requires boost version &gt;= 1.34, so cygwin users watch out). Comparing two floating point values without specifying a delta, automatically selects a delta that masks the least significant decimal digit, based on the size of expected. Floating point comparison subtracts actual and expected and sees if the absolute value of the difference is less than delta, by using std::abs()</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">219</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre></pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">220</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>h2. Exception Testing</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">221</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre></pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">222</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>Another good unit testing practice is to verify that things go wrong as intended.</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">223</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre></pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">224</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>To embed a piece of code (an expression, or anyhting that can be passed as a macro parameter) that should throw an specific exception type, you can use the macro</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">225</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre></pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">226</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>&lt;pre&gt;&lt;code class=&quot;cpp&quot;&gt;</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">227</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>ASSERT_THROWS(code,exception_type);</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">228</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>within your test function. For example:</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">229</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre></pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">230</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>void test_that_something_throws() {</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">231</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>    ASSERT_THROWS(should_throw_std_exception(),std::exception);</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">232</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>}</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">233</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>&lt;/code&gt;&lt;/pre&gt;</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">234</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre></pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">235</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>This test will fail if should_throw_std_exception() does not throw an exception of type std::exception. Any other exception will lead to an error, in contrast to failure.</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">236</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre></pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">237</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>There is no need to implement the try-catch again by hand to test error conditions. What is missing is the ability to expect a runtime error recognized by the operating system such as an invalid memory access. Those are usually signaled instead of thrown as a nice C++ exception.</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">238</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre></pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">239</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>You might need parenthesis around the code in the macro parameter to disambiguate commas, particularly commas in a parameter list.</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">240</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre></pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">241</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>As of CUTE 1.5 the macro CUTE_EXPECT(testfunctor,excpetion) is no longer supported, ASSERT_THROWS is simpler and seems to be sufficient.</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">242</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre></pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">243</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>h2. Listening Customization</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">244</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre></pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">245</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>You have already seen that the runner class template can be specialized by providing a listener. The runner class is an inverted application of the Template Method design pattern [GoF]. Instead of implementing the methods called dynamically in a subclass, you provide a template parameter that acts as a base class to the class runner, which holds the template methods runit() and operator().</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">246</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre></pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">247</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>&lt;pre&gt;&lt;code class=&quot;cpp&quot;&gt;</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">248</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>template &lt;typename Listener=null_listener&gt;</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">249</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>struct runner : Listener{</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">250</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>    runner():Listener(){}</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">251</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>    runner(Listener &amp;s):Listener(s){}</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">252</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>    bool operator()(test const &amp;t){</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">253</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>        return runit(t);</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">254</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>    }</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">255</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>    bool operator()(suite const &amp;s,char const *info=&quot;&quot;){ </pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">256</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>        Listener::begin(s,info);</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">257</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>        bool result=true;</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">258</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>        for(suite::const_iterator it=s.begin();it != s.end();++it){</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">259</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>            result = this-&gt;runit(*it) &amp;&amp; result;</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">260</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>        }</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">261</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>        Listener::end(s,info);</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">262</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>        return result;</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">263</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>    }</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">264</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>private:</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">265</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>    bool runit(test const &amp;t){</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">266</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>        try {</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">267</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>            Listener::start(t);</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">268</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>            t();</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">269</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>            Listener::success(t,&quot;OK&quot;);</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">270</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>            return true;</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">271</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>        } catch (test_failure const &amp;e){</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">272</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>            Listener::failure(t,e);</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">273</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>        } catch(...) {</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">274</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>            Listener::error(t,&quot;unknown exception thrown&quot;);</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">275</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>        }</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">276</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>        return false;</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">277</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>    }</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">278</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>};</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">279</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>&lt;/code&gt;&lt;/pre&gt;</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">280</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre></pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">281</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>If you look back to runner::runit(), you will recognize that if any reasonable exception is thrown, it would be hard to diagnose the reason for the error. Therefore, I included catch clauses for std::exception, string and char pointers to get information required for diagnosis. The demangling is required for GNU g++ to get a human-readable information from the exception's class name.</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">282</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre></pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">283</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>&lt;pre&gt;&lt;code class=&quot;cpp&quot;&gt;</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">284</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>} catch (std::exception const &amp;exc){</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">285</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>    Listener::error(t,test::demangle(exc.what()).c_str());</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">286</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>} catch (std::string &amp;s){</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">287</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>    Listener::error(t,s.c_str());</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">288</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>} catch (char const *&amp;cs) {</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">289</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>    Listener::error(t,cs);</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">290</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>}</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">291</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>&lt;/code&gt;&lt;/pre&gt;</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">292</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre></pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">293</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>Again I ask you for feedback if doing this seems over-engineered. Are you throwing strings as error indicators?</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">294</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre></pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">295</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>As you can see, there are a bunch of methods delegated to the base class given as runner's template parameter (begin, end, start, success, failure, error). The default template parameter null_listener applies the Null Object design pattern and provides the concept all fitting Listener base classes.</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">296</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre></pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">297</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>&lt;pre&gt;&lt;code class=&quot;cpp&quot;&gt;</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">298</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>struct null_listener{ // defines Contract of runner parameter</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">299</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>    void begin(suite const &amp;s, char const *info){}</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">300</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>    void end(suite const &amp;s, char const *info){}</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">301</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>    void start(test const &amp;t){}</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">302</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>    void success(test const &amp;t,char const *msg){}</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">303</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>    void failure(test const &amp;t,test_failure const &amp;e){}</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">304</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>    void error(test const &amp;t,char const *what){}</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">305</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>};</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">306</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>&lt;/code&gt;&lt;/pre&gt;</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">307</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre></pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">308</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>Whenever you need to collect the test results or you want to have a nice GUI showing progress with the tests, you can create your own custom listener.</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">309</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre></pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">310</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>Again you can stack listeners using an inverted version of a Decorator design pattern [GoF]. Here is an example of an inverted Decorator using C++ templates that counts the number of tests by category:</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">311</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre></pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">312</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>&lt;pre&gt;&lt;code class=&quot;cpp&quot;&gt;</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">313</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>template &lt;typename Listener=null_listener&gt;</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">314</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>struct counting_listener:Listener{</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">315</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>    counting_listener()</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">316</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>    :Listener()</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">317</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>    ,numberOfTests(0),successfulTests(0)</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">318</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>    ,failedTests(0),errors(0),numberOfSuites(0){}</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">319</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre></pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">320</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>    counting_listener(Listener const &amp;s)</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">321</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>    :Listener(s)</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">322</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>    ,numberOfTests(0),successfulTests(0)</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">323</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>    ,failedTests(0),errors(0),numberOfSuites(0){}</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">324</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre></pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">325</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>    void begin(suite const &amp;s, char const *info){</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">326</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>        ++numberOfSuites;</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">327</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>        Listener::begin(s,info);</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">328</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>    }</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">329</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>    void start(test const &amp;t){</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">330</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>        ++numberOfTests;</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">331</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>        Listener::start(t);</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">332</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>    }</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">333</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>    void success(test const &amp;t,char const *msg){</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">334</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>        ++successfulTests;</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">335</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>        Listener::success(t,msg);</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">336</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>    }</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">337</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>    void failure(test const &amp;t,test_failure const &amp;e){</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">338</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>        ++failedTests;</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">339</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>        Listener::failure(t,e);</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">340</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>    }</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">341</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>    void error(test const &amp;t,char const *what){</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">342</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>        ++errors;</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">343</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>        Listener::error(t,what);</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">344</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>    }</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">345</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>    int numberOfTests;</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">346</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>    int successfulTests;</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">347</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>    int failedTests;</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">348</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>    int errors;</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">349</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>    int numberOfSuites;</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">350</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>};</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">351</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>&lt;/code&gt;&lt;/pre&gt;</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">352</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre></pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">353</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>From the above schema, you can derive your own stackable listener classes, such as a listener that displays in a GUI the progress and results of tests as they run. If you do so, please share your solution.</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">354</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre></pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">355</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>Member Functions as Tests</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">356</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre></pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">357</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>With boost::bind() at your disposal, it is easy to construct a functor object from a class and its member function. Again this is canned in a macro that can be used like this:</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">358</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre></pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">359</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>&lt;pre&gt;&lt;code class=&quot;cpp&quot;&gt;</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">360</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>CUTE_MEMFUN(testobject,TestClass,test1);</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">361</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>CUTE_SMEMFUN(TestClass,test2);</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">362</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>CUTE_CONTEXT_MEMFUN(contextobject,TestClass,test3);</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">363</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>&lt;/code&gt;&lt;/pre&gt;</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">364</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre></pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">365</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>The first version uses object testobject, an instance of TestClass, as the target for the member function test1. The second version creates a new instance of TestClass to then call its member function test2 when the test is executed. The last macro provides a means to pass an additional object to TestClass' constructor when it is incarnated. The idea of incarnating the test object and thus have its constructor and destructor run as part of the test comes from Kevlin Henney and is implemented in Paul Grenyer's testing framework Aeryn.</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">366</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre></pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">367</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>The macro CUTE_MEMFUN delegates its work to a template function as follows:</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">368</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre></pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">369</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>&lt;pre&gt;&lt;code class=&quot;cpp&quot;&gt;</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">370</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>template &lt;typename TestClass&gt;</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">371</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>test makeMemberFunctionTest(TestClass &amp;t,void (TestClass::*fun)(),char const *name){</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">372</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>    return test(boost::bind(fun,boost::ref(t)),test::demangle(typeid(TestClass).name())+&quot;::&quot;+name);</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">373</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>}</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">374</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>#define CUTE_MEMFUN(testobject,TestClass,MemberFunctionName) \</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">375</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>    cute::makeMemberFunctionTest(testobject,\</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">376</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>        &amp;TestClass::MemberFunctionName, #MemberFunctionName)</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">377</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>&lt;/code&gt;&lt;/pre&gt;</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">378</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre></pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">379</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>When the template function makeMemberFunctionTest is called, it employs boost::bind to create a functor object that will call the member function fun on object t. Again we can employ C++ reflection using typeid to derive part of the test object's name. We need to derive the member function name again using the preprocessor with a macro. In order to also allow const member functions, the template function comes in two overloads, one using a reference (as shown) and the other using a const reference for the testing object.</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">380</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre></pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">381</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>h2. Test Object Incarnation</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">382</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre></pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">383</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>I will spare you the details, and just present the mechanism of object incarnation and then calling a member function for the case where you can supply a context object:</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">384</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre></pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">385</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>&lt;pre&gt;&lt;code class=&quot;cpp&quot;&gt;</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">386</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>template &lt;typename TestClass,typename MemFun, typename Context&gt;</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">387</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>struct incarnate_for_member_function_with_context_object {</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">388</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>    MemFun memfun;</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">389</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>    Context context;</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">390</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>    incarnate_for_member_function_with_context_object(MemFun f,Context c)</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">391</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>    :memfun(f),context(c){}</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">392</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>    void operator()(){</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">393</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>        TestClass t(context);</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">394</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>        (t.*memfun)();</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">395</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>    }</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">396</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>};</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">397</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>template &lt;typename TestClass, typename MemFun, typename Context&gt;</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">398</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>test makeMemberFunctionTestWithContext(Context c,MemFun fun,char const *name){</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">399</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>    return test(incarnate_for_member_function_with_context_object&lt;TestClass,MemFun,Context&gt;(fun,c),test::demangle(typeid(TestClass).name())+&quot;::&quot;+name);</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">400</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>}</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">401</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>&lt;/code&gt;&lt;/pre&gt;</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">402</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre></pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">403</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>This allows you to use test classes with a constructor to set up a test fixture and a destructor for cleaning up after the test. This eliminates need to for explicit setUp() and tearDown() methods, as in JUnit.</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">404</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre></pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">405</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>h2. Limitations and Outlook</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">406</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre></pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">407</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>One big difference between C++ and other languages is the lack of method-level introspection. The only way to create a list of tests to execute is for a programmer specify it by registering test objects somewhere. Our CUTE Eclipse plug-in eases that task by automatically registering test functions and methods for you in the current file's suite object.</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">408</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre></pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">409</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>h2. Conclusion</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">410</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre></pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">411</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>With version 1.5 and its Eclipse CDT plug-in, CUTE left its nascent state. It comes with a small test suite for itself, but it may still have problems that I have not yet encountered. If you have not yet written unit tests for your code, try starting now using CUTE via its Eclipse plug-in and tell us how it feels and how it works for you.</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">412</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre></pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">413</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>If you have more ideas for extending CUTE to make it a more convenient environment. Tell me your ideas, or just implement them. Thank you in advance.</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">414</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre></pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">415</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>h2. References</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">416</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre></pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">417</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>* Aeryn</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">418</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>** Paul Grenyer http://www.aeryn.co.uk</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">419</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>* CppUnit</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">420</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>** http://cppunit.sourceforge.net/cppunit-wiki</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">421</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>* Unit Testing Cookbook</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">422</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>** http://cppunit.sourceforge.net/doc/lastest/cppunit_cookbook.html</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">423</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>* GoF</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">424</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>** Gang of Four, E. Gamma, R. Helm, R. Johnson, J. Vlissides: Design Patterns - Elements of Reusable Object-Oriented Design</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">425</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>* JUTLAND</pre></td>
</tr>

<tr class="bloc-4">
    <th class="line-num">426</th>
    <td class="revision"><a href="../../Theory_of_Operation_and_Goals79ee.html?version=5">5</a></td>
    <td class="author">Emanuel Graf</td>
    <td class="line-code"><pre>** Kevlin Henney, &quot;Java Unit Testing Light Adaptable 'N Discreet&quot;, presentation at JAOO 2005 and private communication</pre></td>
</tr>

</tbody>
</table>



        
				<div style="clear:both;"></div>
    </div>
</div>

<div id="ajax-indicator" style="display:none;"><span>Loading...</span></div>
	
<div id="footer">
  <div class="bgl"><div class="bgr">
    Powered by <a href="http://www.redmine.org/">Redmine</a> &copy; 2006-2010 Jean-Philippe Lang
  </div></div>
</div>
</div>
</div>
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-22096374-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
</body>

</html>
