<?xml version="1.0" encoding="UTF-8"?>
<?eclipse version="3.2"?>
<plugin>
   <extension
         point="org.eclipse.debug.core.launchConfigurationTypes">
      <launchConfigurationType
            delegate="ch.hsr.ifs.cutelauncher.CuteLauncherDelegate"
            id="ch.hsr.ifs.cutelauncher.launchConfig"
            modes="run"
            name="CUTE Test"
            />
   </extension>
   <extension
         point="org.eclipse.debug.ui.launchConfigurationTypeImages">
      <launchConfigurationTypeImage
            icon="icons/obj16/cute_app.gif"
            configTypeID="ch.hsr.ifs.cutelauncher.launchConfig"
            id="ch.hsr.ifs.cutelauncher.LaunchConfigImage">
      </launchConfigurationTypeImage>
  </extension>
   <extension
         point="org.eclipse.debug.ui.launchConfigurationTabGroups">
      <launchConfigurationTabGroup
            class="ch.hsr.ifs.cutelauncher.CuteRunLaunchConfigTabGroup"
            id="ch.hsr.ifs.cutelauncher.launchConfigurationTabGroup"
            type="ch.hsr.ifs.cutelauncher.launchConfig"/>
   </extension>
   <extension
         point="org.eclipse.debug.ui.launchShortcuts">
      <shortcut
            label="CUTE Test"
            icon="icons/obj16/cute_app.gif"
            modes="run"
            class="ch.hsr.ifs.cutelauncher.CuteLaunchShortcut"
            id="ch.hsr.ifs.cutelauncher.cuteShortcut">
         <contextualLaunch>
           <enablement>
             <with variable="selection">
               <count value="1"/>
               <iterate>
                 <or>
                 	<test property="org.eclipse.cdt.launch.isExecutable"/>
                 	<instanceof value="org.eclipse.cdt.internal.core.model.CProject"/>
                 </or>
               </iterate>
             </with>
           </enablement>
           <contextLabel
         	  mode="run"
         	  label="CUTE Test"/>
  		 </contextualLaunch>
         <perspective
               id="org.eclipse.cdt.ui.CPerspective">
         </perspective>
         <perspective
               id="org.eclipse.debug.ui.DebugPerspective">
         </perspective>
      </shortcut>
   </extension>
   <extension
         point="org.eclipse.ui.views">
      <view
            category="org.eclipse.cdt.ui.views"
            class="ch.hsr.ifs.cutelauncher.ui.TestRunnerViewPart"
            fastViewWidthRatio="0.5"
            icon="icons/obj16/cute_app.gif"
            id="ch.hsr.ifs.cutelauncher.ui.TestRunnerViewPart"
            name="CUTE Results"/>
   </extension>
   
   <extension
         id="cute wizard"
         name="cute wizard"
         point="org.eclipse.cdt.ui.CDTWizard">
      <wizard
            class="ch.hsr.ifs.cutelauncher.ui.NewCuteProjectWizard"
            name="CUTE">
      </wizard>
      <wizard
            class="ch.hsr.ifs.cutelauncher.ui.NewCuteLibProjectWizard"
            name="CUTE Library Test Project"
            parent="ch.hsr.ifs.cutelauncher.ui.NewCuteProjectWizard">
      </wizard>

   </extension>
   
   <extension
         point="org.eclipse.ui.preferencePages">
      <page
            category="org.eclipse.cdt.ui.preferences.CPluginPreferencePage"
            class="ch.hsr.ifs.cutelauncher.ui.CutePrefPage"
            id="ch.hsr.ifs.cutelauncher.prefPage"
            name="CUTE">
      </page>
   </extension>
   <extension
         point="org.eclipse.core.runtime.preferences">
      <initializer
            class="ch.hsr.ifs.cutelauncher.ui.PreferenceInitializer">
      </initializer>
   </extension>
   <extension
         id="ch.hsr.ifs.cutelauncher.cutenature"
         name="CUTE Project Nature"
         point="org.eclipse.core.resources.natures">
      <runtime>
         <run
               class="ch.hsr.ifs.cutelauncher.CuteNature">
         </run>
      </runtime>
      <requires-nature
            id="org.eclipse.cdt.core.cnature">
      </requires-nature>
   </extension>
 <extension
         point="org.eclipse.mylyn.tasks.core.templates">
      <repository
            addAutomatically="true"
            anonymous="true"
            label="CUTE Trac"
            repositoryKind="trac"
            urlRepository="http://r2.ifs.hsr.ch/cute"
            version="XML_RPC">
      </repository>
   </extension>
 <extension
       point="org.eclipse.ui.ide.projectNatureImages">
    <image
          icon="icons/ovr16/cute_ovr.gif"
          id="ch.hsr.ifs.cutelauncher.cuteProjectImage"
          natureId="ch.hsr.ifs.cutelauncher.cutenature">
    </image>
 </extension>
 <extension
       point="org.eclipse.ui.popupMenus">
    <objectContribution
          adaptable="true"
          id="ch.hsr.ifs.cutelauncher.convertObjectContribution1"
          objectClass="org.eclipse.cdt.core.model.ICProject">
       <action
             class="ch.hsr.ifs.cutelauncher.ui.ConvertProjectAction"
             enablesFor="1"
             id="ch.hsr.ifs.cutelauncher.convertProjectAction"
             label="Convert to CUTE 1.2 Project"
             menubarPath="additions">
       </action>
       <filter
             name="projectNature"
             value="org.eclipse.cdt.core.ccnature">
       </filter>
    </objectContribution>
    <viewerContribution
          id="ch.hsr.ifs.cutelauncher.cEditorContribution"
          targetID="#CEditorContext">
       <action
             class="ch.hsr.ifs.cutelauncher.ui.sourceactions.NewTestFunction"
             definitionId="ch.hsr.ifs.cutelauncher.newTestFunctionCommand"
             id="ch.hsr.ifs.cutelauncher.newTestFunctionAction"
             label="New Test Function"
             menubarPath="org.eclipse.cdt.ui.source.menu/ch.hsr.ifs.cutelauncher.testCodeMenu">
       </action>
       <menu
             id="ch.hsr.ifs.cutelauncher.testCodeMenu"
             label="Test Code"
             path="org.eclipse.cdt.ui.source.menu">
       </menu>
    </viewerContribution>
 </extension>
 <extension
       point="org.eclipse.ui.commands">
    <command
          categoryId="org.eclipse.cdt.ui.category.source"
          description="Create new test function."
          id="ch.hsr.ifs.cutelauncher.newTestFunctionCommand"
          name="New Test Function">
    </command>
 </extension>
   </plugin>
