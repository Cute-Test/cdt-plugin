<?xml version="1.0" encoding="UTF-8"?> 
<?eclipse version="3.2"?>
<plugin>
   <extension-point id="listeners" name="Test listeners" schema="schema/listeners.exsd"/>
   <extension
         id="markerBuilder"
         name="GCov Code Marker Builder"
         point="org.eclipse.core.resources.builders">
      <builder
            hasNature="true">
         <run
               class="org.ginkgo.gcov.builder.LineCoverageBuilder">
         </run>
      </builder>
   </extension>

   <extension
         id="sampleBuilder"
         name="GCov Project View Builder"
         point="org.eclipse.core.resources.builders">
      <builder
            hasNature="true">
         <run
               class="org.ginkgo.gcov.builder.CoverageSummaryBuilder">
         </run>
      </builder>
   </extension>
   <extension
         id="sampleNature"
         name="Nature sample project"
         point="org.eclipse.core.resources.natures">
      <runtime>
         <run
               class="org.ginkgo.gcov.builder.SampleNature">
         </run>
      </runtime>
      <builder
            id="org.ginkgo.gcov.sampleBuilder">
      </builder>
      <builder
            id="org.ginkgo.gcov.markerBuilder">
      </builder>
   </extension>
   <extension
         id="coverageMarker"
         name="coverageMarker"
         point="org.eclipse.core.resources.markers">
      <persistent
            value="true">
      </persistent>
      <super
            type="org.eclipse.core.resources.textmarker">
      </super>
   </extension>
   <extension
         id="lineCoverMarker"
         name="lineCoverMarker"
         point="org.eclipse.core.resources.markers">
      <super
            type="org.ginkgo.gcov.coverageMarker">
      </super>
      <persistent
            value="true">
      </persistent>
   </extension>
   <extension
         id="lineUnCoverMarker"
         name="lineUnCoverMarker"
         point="org.eclipse.core.resources.markers">
      <super
            type="org.ginkgo.gcov.coverageMarker">
      </super>
      <persistent
            value="true">
      </persistent>
   </extension>
   <extension
         point="org.eclipse.ui.editors.annotationTypes">
      <type
            markerType="org.ginkgo.gcov.lineCoverMarker"
            name="org.ginkgo.gcov.lineCoverAnnotationType">
      </type>
      <type
            markerType="org.ginkgo.gcov.lineUnCoverMarker"
            name="org.ginkgo.gcov.lineUnCoverAnnotationType">
      </type>
   </extension>
   <extension
         point="org.eclipse.ui.editors.markerAnnotationSpecification">
      <specification
            annotationType="org.ginkgo.gcov.lineCoverAnnotationType"
            colorPreferenceKey="lineCoverColor"
            colorPreferenceValue="30,200,30"
            contributesToHeader="true"
            highlightPreferenceKey="lineCoverHighlight"
            highlightPreferenceValue="true"
            includeOnPreferencePage="true"
            isGoToNextNavigationTarget="false"
            isGoToPreviousNavigationTarget="false"
            label="Line Covered"
            overviewRulerPreferenceKey="lineCoverOverviewRuler"
            overviewRulerPreferenceValue="true"
            presentationLayer="0"
            showInNextPrevDropdownToolbarAction="true"
            showInNextPrevDropdownToolbarActionKey="lineCoverNextPrev"
            textPreferenceKey="lineCoverText"
            textPreferenceValue="true"
            textStylePreferenceValue="IBEAM"
            verticalRulerPreferenceKey="lineCoverVerticalRuler"
            verticalRulerPreferenceValue="true">
      </specification>
      <specification
            annotationType="org.ginkgo.gcov.lineUnCoverAnnotationType"
            colorPreferenceKey="lineUnCoverColor"
            colorPreferenceValue="255,0,0"
            contributesToHeader="true"
            highlightPreferenceKey="lineUnCoverHighlight"
            highlightPreferenceValue="true"
            includeOnPreferencePage="true"
            isGoToNextNavigationTarget="false"
            isGoToPreviousNavigationTarget="false"
            label="Line Not Covered"
            overviewRulerPreferenceKey="lineUnCoverOverviewRuler"
            overviewRulerPreferenceValue="true"
            presentationLayer="0"
            showInNextPrevDropdownToolbarAction="true"
            showInNextPrevDropdownToolbarActionKey="lineUnCoverNextPrev"
            textPreferenceKey="lineUnCoverText"
            textPreferenceValue="true"
            textStylePreferenceValue="IBEAM"
            verticalRulerPreferenceKey="lineUnCoverVerticalRuler"
            verticalRulerPreferenceValue="true">
      </specification>
   </extension>
   <extension
         point="org.eclipse.ui.actionSets">
      <actionSet
            id="sampleAction.actionSet"
            label="A sample set of actions"
            visible="true">
         <action
               class="org.ginkgo.gcov.action.ToggleCoveredLineAction"
               icon="icons/cover.gif"
               id="sampleaction.actions.PrefAction"
               label="cover(&amp;S)"
               state="true"
               style="toggle"
               toolbarPath="sampleGroup"
               tooltip="pref">
         </action>
         <action
               class="org.ginkgo.gcov.action.ToggleUnCoveredLineAction"
               icon="icons/uncover.gif"
               id="sampleaction.actions.UncoverAction"
               label="uncover(&amp;S)"
               state="true"
               style="toggle"
               toolbarPath="sampleGroup"
               tooltip="pref">
         </action>
      </actionSet>
   </extension>
   <extension
         point="org.eclipse.ui.views">
      <view
            category="org.eclipse.cdt.ui.views"
            class="org.ginkgo.gcov.navigator.Navigator"
            icon="icons/cover.gif"
            id="org.ginkgo.gcov.view"
            name="C Projects with Coverage">
      </view>
   </extension>
   <extension
         point="org.eclipse.ui.navigator.viewer">
      <viewer
            viewerId="org.ginkgo.gcov.view">
      </viewer>
      <viewerContentBinding
            viewerId="org.ginkgo.gcov.view">
         <includes>
            <contentExtension
                  pattern="org.eclipse.ui.navigator.resourceContent">
            </contentExtension>
            <contentExtension
                  pattern="org.eclipse.ui.navigator.resources.filters.*">
            </contentExtension>
            <contentExtension
                  pattern="org.eclipse.ui.navigator.resources.linkHelper">
            </contentExtension>
            <contentExtension
                  pattern="org.eclipse.ui.navigator.resources.workingSets">
            </contentExtension>
         </includes>
      </viewerContentBinding>
      <viewerContentBinding
            viewerId="org.ginkgo.gcov.view">
         <includes>
            <contentExtension
                  pattern="org.eclipse.cdt.ui.navigator.content">
            </contentExtension>
            <contentExtension
                  pattern="org.eclipse.cdt.ui.navigator.filters.*">
            </contentExtension>
            <contentExtension
                  pattern="org.eclipse.cdt.ui.wizards.*">
            </contentExtension>
            <contentExtension
                  pattern="org.eclipse.cdt.ui.navigator.linkHelper">
            </contentExtension>
         </includes>
      </viewerContentBinding>
      <viewerActionBinding
            viewerId="org.ginkgo.gcov.view">
         <includes>
            <actionExtension
                  pattern="org.eclipse.ui.navigator.resources.*">
            </actionExtension>
         </includes>
      </viewerActionBinding>
      <dragAssistant
            class="org.eclipse.cdt.internal.ui.navigator.CNavigatorDragAdapterAssistant"
            viewerId="org.eclipse.ui.navigator.ProjectExplorer">
      </dragAssistant>
   </extension>
   <extension
         point="org.eclipse.ui.propertyPages">
      <page
            class="org.ginkgo.gcov.properties.WorkbenchPropertyPage1"
            id="org.ginkgo.gcov.page1"
            name="C Coverage">
         <enabledWhen>
            <adapt
                  type="org.eclipse.core.resources.IProject">
            </adapt>
         </enabledWhen>
      </page>
   </extension>
   <extension
         point="org.ginkgo.gcov.listeners">
      <provider
            class="org.ginkgo.gcov.builder.CoverageLister">
      </provider>
   </extension>
   <extension
         point="org.eclipse.ui.popupMenus">
      <objectContribution
            id="org.ginkgo.gcov.contribution1"
            objectClass="org.eclipse.core.resources.IProject">
         <menu
               id="org.ginkgo.gcov.menu1"
               label="C/C++ Coverage"
               path="additions">
            <separator
                  name="group1">
            </separator>
         </menu>
         <action
               class="org.ginkgo.gcov.popup.actions.Action"
               enablesFor="1"
               id="org.ginkgo.gcov.newAction"
               label="output coverage as html"
               menubarPath="org.ginkgo.gcov.menu1/group1">
         </action>
         <visibility>
            <or>
               <objectState
                     name="projectNature"
                     value="org.eclipse.cdt.managedbuilder.core.managedBuildNature">
               </objectState>
               <objectState
                     name="projectNature"
                     value="org.eclipse.cdt.make.core.makeNature">
               </objectState>
            </or>
         </visibility>
      </objectContribution>
   </extension>
   <extension
         point="org.eclipse.cdt.managedbuilder.ui.newWizardPages">
      <wizardPage
            ID="org.ginkgo.gcov.wizardPage1"
            pageClass="org.ginkgo.gcov.WizardPage1">
         <nature
               natureID="org.ginkgo.gcov.sampleNature">
         </nature>
      </wizardPage>
   </extension>

</plugin>
